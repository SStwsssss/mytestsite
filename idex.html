<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ü–æ–∏—Å–∫ PlayerId –ø–æ –Ω–∏–∫—É –≤ Roblox</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: 0 auto; }
    input, button { padding: 10px; font-size: 16px; margin: 5px 0; }
    #result { margin-top: 20px; padding: 15px; background: #f9f9f9; border-radius: 4px; }
    .error { color: #d32f2f; }
    .success { color: #2e7d32; }
  </style>
</head>
<body>
  <h2>üîç –ü–æ–∏—Å–∫ PlayerId –ø–æ –Ω–∏–∫—É –≤ Roblox</h2>
  <p>‚ö†Ô∏è –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ <strong>–ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä</strong> (–Ω–µ file://)</p>
  <input type="text" id="nickname" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Builderman" autofocus />
  <br>
  <button onclick="searchPlayer()">–ù–∞–π—Ç–∏ ID</button>
  <div id="result"></div>

  <script>
    async function searchPlayer() {
      const nickname = document.getElementById("nickname").value.trim();
      const resultDiv = document.getElementById("result");
      
      if (!nickname) {
        resultDiv.innerHTML = '<span class="error">‚ùå –í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫–Ω–µ–π–º</span>';
        return;
      }

      resultDiv.innerHTML = "‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ Roblox API...";
      
      try {
        // –ü—Ä–æ–±—É–µ–º —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å
        const response = await fetch(
          `https://users.roblox.com/v1/users/search?keyword=${encodeURIComponent(nickname)}&limit=10`,
          {
            method: 'GET',
            mode: 'cors',
            headers: {
              'Accept': 'application/json',
            }
          }
        );

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º HTTP-—Å—Ç–∞—Ç—É—Å
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }

        const data = await response.json();

        if (data.data && data.data.length > 0) {
          let html = `<h3>‚úÖ –ù–∞–π–¥–µ–Ω–æ ${data.data.length} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</h3><ul>`;
          data.data.forEach(user => {
            const verified = user.hasVerifiedBadge ? ' ‚úÖ' : '';
            html += `<li><strong>${user.name}</strong>${verified} ‚Äî ID: <code>${user.id}</code></li>`;
          });
          html += '</ul>';
          resultDiv.innerHTML = html;
        } else {
          resultDiv.innerHTML = 'üì≠ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –Ω–∏–∫.';
        }

      } catch (err) {
        console.error("Fetch error:", err);
        resultDiv.innerHTML = `
          <span class="error">‚ùå –û—à–∏–±–∫–∞: ${err.message}</span><br><br>
          <strong>–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:</strong>
          <ul>
            <li>–í—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ —Ñ–∞–π–ª —á–µ—Ä–µ–∑ <code>file://</code> ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä</li>
            <li>Roblox API –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ <a href="https://users.roblox.com/v1/users/search?keyword=Builderman&limit=1" target="_blank">—Å—Å—ã–ª–∫—É –≤—Ä—É—á–Ω—É—é</a>)</li>
            <li>–ê–Ω—Ç–∏–≤–∏—Ä—É—Å/–±—Ä–∞–Ω–¥–º–∞—É—ç—Ä/–∞–¥–±–ª–æ–∫–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å</li>
          </ul>
        `;
      }
    }

    // –î–æ–±–∞–≤–∏–º Enter ‚Üí –ø–æ–∏—Å–∫
    document.getElementById("nickname").addEventListener("keypress", e => {
      if (e.key === "Enter") searchPlayer();
    });
  </script>
</body>
</html>
